<!doctype html >
<html lang="en">

	<head>
		<meta http-equiv="content-type" content="text/html; charset=UTF-8">
		<meta name="viewport" content="width=device-width, initial-scale=1">
		<meta name="keywords" content="byu, cougars, giving tuesday, givingcougsday, giving cougsday">
		<meta name="description" content="November 27, 2018: Support Mentored Learning, Scholarships, and everything great about BYU this year for Giving Cougsday!">
		<meta name="CreationDate" content="Mon, 8 Oct, 2018">
		<meta property="fb:app_id" content="225058854284927">
		<meta property="og:type" content="website">
		<meta property="og:title" content="BYU Giving Cougsday 2018">
		<meta property="og:description" content="November 27, 2018: Support Mentored Learning, Scholarships, and everything great about BYU this year for Giving Cougsday!">
		<meta property="og:url" content="https://www.ldsphilanthropies.org/byu/givingcougsday.html">
		<link rel="icon" type="image/x-icon" href="/favicon.ico">
		<title>BYU Giving Cougsday 2018</title>
	</head>

	<body>
		
	<div class="icon-bar">
  		<a href="https://www.facebook.com/BYUAnnualGiving/" class="facebook"><i class="fa fa-facebook"></i></a> 
  		<a href="https://twitter.com/byu" class="twitter"><i class="fa fa-twitter"></i></a> 
  		<a href="https://www.instagram.com/byuannualgiving/" class="instagram"><i class="fa fa-instagram"></i></a>
 
	</div>	
		
	<ul>
		<li><a href="https://ldsp.org/assets/byu/resources/givingcougsday-toolkit-2017.pdf"><p id="rcorners2">TOOL KIT</p></a></li>
		<li><a href="https://ldsp-pay.ldschurch.org/donations/byu/campaigns/general.html?cde2=101188&cde1=101188&cid=Cougsday2018&"><p id="rcorners1">GIVE BACK</p></a></li>
	</ul>
		<header>
			<div class="header-wrapper">
				<div class="title-wrapper">
					<h3>Black Friday. Cyber Monday.</h3>
					<h1>#Giving<span class="cougs">Cougs</span>day</h1>
					<h2 class="date">Tuesday, 11.27.2018</h2>
				</div>
				<div class="button-wrapper">
					<a class="donate large" href="https://ldsp-pay.ldschurch.org/donations/byu/campaigns/general.html?cde2=101188&cde1=101188&cid=Cougsday2018&">Give Back</a>
				</div>
			</div>
		</header>

		<main>
			<div class="panel challenge">
				<h2 class="first-heading">Coming Soon</h2>
			</div>
			
			<div class="panel challenge">
				<h2 class="first-heading">Donation Challenge</h2>
				<p>Challenge details coming soon:</p>
				
				<ul>
					<li id="goal-500"><strong>500</strong>  donors = <strong>$5,000</strong></li>
					<li id="goal-750"><strong>750</strong>  donors = <strong>$10,000</strong></li>
					<li id="goal-1000"><strong>1000</strong> donors = <strong>$20,000</strong></li>
				</ul>
				
				<div class="thermometer donors">
					<h3>Donors</h3>
					<div class="progress-bar progress-donors">
						<div id="donors" class="progress-bar-value" data-current="0" data-max="1250"></div>
						<span class="mark" data-position="20" data-label="250"></span>
						<span class="mark" data-position="40" data-label="500"></span>
						<span class="mark" data-position="60" data-label="750"></span>
						<span class="mark" data-position="80" data-label="1000"></span>
					</div>
				</div>
				<div class="thermometer donations">
					<h3>Donations</h3>
					<div class="progress-bar progress-donations">
						<div id="donations" class="progress-bar-value" data-current="0" data-max="125000"></div>
						<span class="mark" data-position="20" data-label="$25K"></span>
						<span class="mark" data-position="40" data-label="$50K"></span>
						<span class="mark" data-position="60" data-label="$75K"></span>
						<span class="mark" data-position="80" data-label="$100K"></span>
					</div>

				</div>
			</div>

			<div class="panel impact">
				<h2 class="first-heading">Inspiring Learning, Making an Impact</h2>
				<p>Last year, BYU used Giving Cougsday funds for scholarships and mentored-learning experiences along with contributions to colleges, departments, and&nbsp;other&nbsp;BYU&nbsp;initiatives.</p>
				<p>Last year’s donations likely funded over 40 students. Here are some&nbsp;estimates:</p>
				<ul>
					<li><strong>10</strong> internships</li>
					<li><strong>6</strong> study-abroad experiences</li>
					<li><strong>6</strong> student-led research projects</li>
					<li><strong>16</strong> half-tuition scholarships</li>
					<li><strong>8</strong> full-tuition scholarships</li>
				</ul>
				<a class="donate large" href="https://ldsp-pay.ldschurch.org/donations/byu/campaigns/general.html?cde2=101188&cde1=101188&cid=Cougsday2018&">Donate Now</a>
			</div>

			<div class="panel info">
				<h2 class="first-heading">What is Giving Cougsday?</h2>
				<p>In 2012, a BYU alum helped pioneer <strong>Giving Tuesday</strong>, promoting generosity everywhere. Last year, we brought the celebration home with a bit of True Blue pride through GivingCougsday. This year we hope to top last year’s total, so please tell your friends—especially those who&nbsp;love&nbsp;BYU!</p>

				<h2>Inspiring Learning</h2>
				<p>President Kevin J Worthen told faculty and staff, &ldquo;I hope we inspire our students to learn. And I hope that learning leads to inspiration. When both things happen, inspiring learning occurs, and we can then know we are on the right track to achieve the core goals set forth in our&nbsp;mission&nbsp;statement.&rdquo;</p>
				<a class="donate" href="https://ldsp-pay.ldschurch.org/donations/byu/campaigns/general.html?cde2=101188&cde1=101188&cid=Cougsday2018&">Donate to Inspiring Learning</a>

			</div>

			<div class="panel toolkit">
				<h2 class="first-heading">Promote Giving Cougsday</h2>
				<p>Are you a BYU campus communicator? Are you helping to promote Giving Cougsday? You can download the tools for your Giving Cougsday campaign&nbsp;below:</p>
				<a class="donate" href="/assets/Promos/givingtuesday/givingcougsday.png"><strong>Download</strong> the logo</a>
				<a class="donate" href="/assets/byu/resources/givingcougsday-toolkit-2017.pdf"><strong>Download</strong> the toolkit</a>
			</div>

		</main>

		<footer>
			<p>Brigham Young University</p>
			<p>&copy; 2018 All Rights Reserved | Provo, UT 84602, USA | 801-356-5300</p>
		</footer>

		<link rel="stylesheet" type="text/css" href="cougsday2018.min.css">
		<script>

			// Add removeClass function to HTML elements
			if(  typeof HTMLElement.prototype.removeClass !== "function" ) {
				HTMLElement.prototype.removeClass = function( classStr ) {
					var classes = this.className.split(" "),
						i;

					for(i = 0; i < classes.length; i++) {
						if( classes[i] == classStr ) {
							classes.splice(i, 1);
							break;
						}
					}
					this.className = classes.join(" ");
					return this;
				}
			}

			// Add addClass function to HTML elements
			if(  typeof HTMLElement.prototype.addClass !== "function" ) {
				HTMLElement.prototype.addClass = function( classStr ) {
					var classes = this.className.split(" ");
					classes.push( classStr );
					this.className = classes.join(" ");
					return this;
				}
			}

			// Add hasClass function to HTML elements
			if(  typeof HTMLElement.prototype.hasClass !== "function" ) {
				HTMLElement.prototype.hasClass = function( classStr ) {
					return (' ' + this.className + ' ').indexOf(' ' + classStr + ' ') > -1;
				}
			}




			// Progress Bar Module
			var progressBars = (function () {

				var total, donors, numDataLoads, dataRequests;

				var dataUrls = [
					{ url: 'https://ldsp-pay.ldschurch.org/querycampaign?cde2=101188&startDate=2018-10-15',
					  id: 'web' },
					{ url: 'https://ldsp-pay.ldschurch.org/querycampaign?cde2=101187&startDate=2018-10-15',
					  id: 'email' },
					{ url: 'https://ldsp-pay.ldschurch.org/querycampaign?cde2=101185&startDate=2018-10-15',
					  id: 'social' },
					{ url: 'https://spreadsheets.google.com/feeds/cells/1jbhVMOpWnNp35bh_GQ6m5FMitsoZI8JG55bacMdxZNQ/od6/public/basic?alt=json',
					  id: 'offline' },
				];


				/*
				 *  Func: getRemoteDonationData
				 *  Desc: Fetch all dontion data from remote services or locations
				 *  Args: @ms - Number (optional) - If included, defines milliseconds between data refresh
				 */
				function getRemoteDonationData ( ms ) {
					ms = ms || 0;
					resetData();

					// Request the data
					for ( var i = 0; i < dataUrls.length; i++ ) {
						var url = dataUrls[i].url;
						var id = dataUrls[i].id;

						// Add xmlHttpRequest object to dataRequests list
						dataRequests[id] = getData( url );
						dataRequests[id].addEventListener("load", processData);
					}

					// Set repeat if specified
					if ( ms > 0 ) {
						window.setTimeout(function(){ getRemoteDonationData(ms); }, ms);
					}

				}


				/*
				 *  Func: resetData
				 *  Desc: Set all variables for donations to zero state and remove all unfired load events
				 *  Args: none
				 */
				function resetData () {
					total = 0;
					donors = 0;
					numDataLoads = 0;

					// Remove all of the previous event listeners, if needed
					if( dataRequests && numDataLoads < Object.keys(dataRequests).length ) {
						for ( var i = 0; i < dataUrls.length; i++ ) {
							var id = dataUrls[i].id;
							dataRequests[id].removeEventListener("load", processData);
						}
					}

					dataRequests = {};
				}


				/*
				 *  Func: processData
				 *  Desc: Get the data from LDSP or Google and add it to the total. Update progress bars when all data has been gathered.
				 *  Args: none
				 */
				function processData () {
					var json,
						DONE = 4, // readyState 4 means the request is done.
						OK = 200; // status 200 is a successful return.

					// Process the response
					if (this.readyState === DONE) {
						if (this.status === OK) {

							json = JSON.parse(this.responseText);

							// Format data if it's from the Google sheet
							if ( json.feed && json.feed.entry ) {
								json = processGoogleSheetData( json );
							}

							// Update totals
							total += json.total || 0;
							donors += json.donorCount || 0;

						} else {
							console.log('Error: ' + this.status); // An error occurred during the request.
						}
					}

					// Count the data sources loaded, and update the progress bars if all done
					numDataLoads += 1; // Update the total number of datapoints that have been loaded
					if ( numDataLoads >= Object.keys(dataRequests).length ) {
						if ( donors >= 0 && total >= 0 ) {
							updateGoalProgress( donors );
							drawProgressBar('donors', donors);
							drawProgressBar('donations', total);
							console.log("Donation data updated.");
						} 
						else { // Some issue with the data
							hideBars();
						}
					}
				}


				/*
				 *  Func: updateGoalProgress
				 *  Desc: Update display to show donor goals reached
				 *  Args: @donors - Number - Total donors to this campaign
				 */
				function updateGoalProgress ( donors ) {
					if ( donors >= 500  ) { 
						document.getElementById( 'goal-500'  ).addClass('complete');
						total += 5000;
					}
					if ( donors >= 750  ) { 
						document.getElementById( 'goal-750'  ).addClass('complete');
						total += 5000;
					}
					if ( donors >= 1000 ) { 
						document.getElementById( 'goal-1000' ).addClass('complete');
						total += 10000;
					}
				}


				/*
				 *  Func: processGoogleSheetData
				 *  Desc: Get the correct data from the Google sheet and format it like the other JSON
				 *  Args: @json - Parsed JSON Object - JSON from the data response
				 */
				function processGoogleSheetData ( json ) {
					var list = json.feed.entry;
					var offlineTotal, offlineDonors, t = 0, d = 0;

					// Loop through cell entries
					for( var i = 0; i < list.length; i++ ) {
						var entry = list[i]; // Get the entry
						var entryText = entry.content.$t;
			
						// Find label for total, and set variable for total cell (next to it)
						if( entryText.search(/total/i) !== -1 ) {
							offlineTotal = list[i + 1].content.$t;
							t = parseFloat( offlineTotal.replace(",","") );
						} 
						// Find label for donors, and set variable for donor cell (next to it)
						else if ( entryText.search(/gifts/i) !== -1 ) {
							offlineDonors = list[i + 1].content.$t;
							d = parseFloat( offlineDonors.replace(",","") );
						}
					}

					// Add the right variables to the json and return
					json.total = t || 0;
					json.donorCount = d || 0;

					return json;
				}


				/*
				 *  Func: getData
				 *  Desc: Initiate a new XMLHttpRequest for data
				 *  Args: @url - String - URL source for the data request
				 */
				function getData ( url ) {
					var date, dateString, xhr;

					date = new Date();
					dateString = date.getTime().toString();

					// https://www.sitepoint.com/guide-vanilla-ajax-without-jquery/
					xhr = new XMLHttpRequest();
					xhr.open('GET', url + '&time=' + dateString );
					xhr.send(null);

					return xhr;
				}


				/*
				 *  Func: hideBars
				 *  Desc: Hide the progress bars in the UI
				 *  Args: none
				 */
				function hideBars () {
					document.body.removeClass("show-bars");
				}


				/*
				 *  Func: showBars
				 *  Desc: Show the progress bars in the UI
				 *  Args: none
				 */
				function showBars () {
					document.body.addClass("show-bars");
				}


				/*
				 *  Func: drawProgressBar
				 *  Desc: Update visual display of a progress bar on the screen
				 *  Args: @id - String - ID attribute of the progress bar
				 *        @num - Number - Number that should be reflected in the progress
				 */
				function drawProgressBar ( id, num ) {
					var bar = document.getElementById(id);
					var max = bar.getAttribute('data-max');
					var pct = num / max * 100;

					// Round the number to nearest whole and limit to its max
					num = Math.floor(num + 0.5);

					// Add thousands separators
					num = "" + num;
					num = addCurrencyCommas(num);

					// Update the length of the progress bar
					pct = Math.min( pct, 100 );
					bar.style = "width:" + pct + "%; height:" + pct + "%;";

					// Update the label
					bar.setAttribute('data-current', num);

					if( !bar.hasClass("animation-start") ){
						bar.addClass("animation-start");
					}

					// Mark the animation finished after 1 sec
					window.setTimeout(function() {
						if( !bar.hasClass("animation-finished") ){
							bar.addClass("animation-finished");
						}
					}, 1200);

				} // drawProgressBar


				/*
				 *  Func: addCurrencyCommas
				 *  Desc: Add thousands separators to a number (represented as a string, since floats with commas are not valid in JS)
				 *  Args: @str - String - Numeric string that should have thousands separators added.
				 */
				function addCurrencyCommas ( str ) {
					str += '';
					var x = str.split('.');
					var x1 = x[0];
					var x2 = x.length > 1 ? '.' + x[1] : '';
					var rgx = /(\d+)(\d{3})/;
					while (rgx.test(x1)) {
						x1 = x1.replace(rgx, '$1' + ',' + '$2');
					}
					return x1 + x2;
				}


				// Expose some methods publicly
				return { 
					getDonations: getRemoteDonationData,
					showBars: showBars,
				};

			})();

			// Initiate progress bars
			progressBars.getDonations( 30000 );
			progressBars.showBars();

		</script>

		<script id="tealium" src="https://edge.ldscdn.org/cdn2/csp/ldsorg/scripts/tracking.js" async></script>

		<script id="data_object">
		//Place this object anyplace prior to the _satellite.pageBottom(); footer
		//DDO is short for Digital Data Object
		var DDO = DDO || {};
		DDO.pageData = {
			pageName: 'LDSP : BYU : Campaigns : Giving Cougsday',
			institution: 'BYU',
			pageType: 'Campaign',
		};
		DDO.userData = {
			language: 'eng',
			loginState: false,
			userHash: ''
		};
			var utag_data = DDO;
		</script>

	</body>

</html>
